358. Rearrange String k Distance Apart
Time O(n26log26)
Space O(1) won't exceed 26
class Solution {
public:
    struct compare {
        bool operator() (pair<char, int>& a, pair<char, int>& b) {
            if (a.second == b.second) return a.first > b.first;
            return a.second < b.second;
        }
    };
    string rearrangeString(string s, int k) {
        if (k == 0) return s;
        unordered_map<char, int> count;
        for (char c : s) count[c]++;
        priority_queue<pair<char, int>, vector<pair<char, int>>, compare> pq;
        for (auto it : count) {
            pq.push(make_pair(it.first, it.second));
        }
        int space = s.length();
        string ret = "";
        while (!pq.empty()) {
            vector<pair<char, int>> record;
            int loop = min(space, k);
            for (int i = 0; i < loop; i++) {
                if (pq.empty()) { return ""; }
                pair<char, int> most_freq = pq.top();
                pq.pop();
                ret += most_freq.first;
                if (most_freq.second - 1 > 0) {
                    record.push_back(make_pair(most_freq.first, most_freq.second - 1));
                }
                space--;
            }
            for (auto it : record) { pq.push(it); }
        }
        return ret;
    }
};
