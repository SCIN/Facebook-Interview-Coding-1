1021. Remove Outermost Parentheses

string removeOuterParentheses(string S) {
    string ret = "";
    int j = 0;
    for (int i = 0; i < S.length();) {
        if (S[i] == '(') {
            j = i;
            int left = 0;
            int right = 0;
            while (i == j || (left != right && i < S.length())) {
                if (S[i] == '(') {
                    left++;
                } else if (S[i] == ')') {
                    right++;
                }
                i++;
            }
            ret += S.substr(j + 1, i - j - 2);
        }
    }
    return ret;
}
