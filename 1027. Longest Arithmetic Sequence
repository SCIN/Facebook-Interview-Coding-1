1027. Longest Arithmetic Sequence

DP O(n^2)
dp[dist][j] 

Till A[j] how many subsequence with distance == dist

int longestArithSeqLength(vector<int>& A) {
    int n = A.size();
    int ret = 2;
    unordered_map<int, unordered_map<int, int>> dp;
    for (int i = 0; i < n; i++) {
        for (int j = i + 1; j < n; j++) {
            int dist = A[j] - A[i];
            dp[dist][j] = dp[dist].count(i) ? dp[dist][i] + 1: 2;
            ret = max(ret, dp[dist][j]);
        }
    }
    return ret;
}
